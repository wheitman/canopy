import{al as l,am as _,an as E,r as S,ao as L,A as x,ap as q,a2 as B,ac as D,aj as w,aq as U,ar as W,M as j,_ as A}from"./Cn4A9jBL.js";function I(r){var a=E,t=S;l(null),_(null);try{return r()}finally{l(a),_(t)}}const P=new Set,$=new Set;function M(r,a,t,n={}){function u(e){if(n.capture||z.call(a,e),!e.cancelBubble)return I(()=>t==null?void 0:t.call(this,e))}return r.startsWith("pointer")||r.startsWith("touch")||r==="wheel"?x(()=>{a.addEventListener(r,u,n)}):a.addEventListener(r,u,n),u}function F(r,a,t,n={}){var u=M(a,r,t,n);return()=>{r.removeEventListener(a,u,n)}}function G(r,a,t,n,u){var e={capture:n,passive:u},i=M(r,a,t,e);(a===document.body||a===window||a===document)&&L(()=>{a.removeEventListener(r,i,e)})}function H(r){for(var a=0;a<r.length;a++)P.add(r[a]);for(var t of $)t(r)}function z(r){var y;var a=this,t=a.ownerDocument,n=r.type,u=((y=r.composedPath)==null?void 0:y.call(r))||[],e=u[0]||r.target,i=0,p=r.__root;if(p){var b=u.indexOf(p);if(b!==-1&&(a===document||a===window)){r.__root=a;return}var g=u.indexOf(a);if(g===-1)return;b<=g&&(i=b)}if(e=u[i]||r.target,e!==a){q(r,"currentTarget",{configurable:!0,get(){return e||t}});var N=E,O=S;l(null),_(null);try{for(var s,h=[];e!==null;){var v=e.assignedSlot||e.parentNode||e.host||null;try{var c=e["__"+n];if(c!==void 0&&!e.disabled)if(B(c)){var[T,...k]=c;T.apply(e,[r,...k])}else c.call(e,r)}catch(o){s?h.push(o):s=o}if(r.cancelBubble||v===a||v===null)break;e=v}if(s){for(let o of h)queueMicrotask(()=>{throw o});throw s}}finally{r.__root=a,delete r.currentTarget,l(N),_(O)}}}let f=!1,d=Symbol();function J(r,a,t){const n=t[a]??(t[a]={store:null,source:D(void 0),unsubscribe:w});if(n.store!==r&&!(d in t))if(n.unsubscribe(),n.store=r??null,r==null)n.source.v=void 0,n.unsubscribe=w;else{var u=!0;n.unsubscribe=U(r,e=>{u?n.source.v=e:A(n.source,e)}),u=!1}return r&&d in t?W(r):j(n.source)}function K(){const r={};function a(){L(()=>{for(var t in r)r[t].unsubscribe();q(r,d,{enumerable:!1,value:!0})})}return[r,a]}function Q(r){var a=f;try{return f=!1,[r(),f]}finally{f=a}}export{P as a,Q as b,M as c,H as d,J as e,G as f,z as h,F as o,$ as r,K as s};
